<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org" xmlns:sec="http://www.thymeleaf.org/extras/spring-security">
<head>
<meta charset="EUC-KR">
<title>Insert title here</title>
</head>
<script th:src="@{https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.0/jquery.min.js}"></script>
<body>
	<div>
	<input type="text" id="body">
	</div>
	<div>
		<input type="text" id="body2">
	</div>
	<div>
		<input type="submit" value="보내기" id="send">
	</div>
</body>
<script>
	$(document).ready(()=>{
		$("#send").click(ajaxTest);
	});
	
	ajaxTest=()=>{
		let $body = document.getElementById('body').value;
		let $body2 = document.getElementById('body2').value;
		$.ajax({
			type: 'post',           // 타입 (get, post, put 등등)
			url: './test2',           // 요청할 서버url
			async: true,            // 비동기화 여부 (default : true)
			headers: {              // Http header
				"Content-Type": "application/json",
				"X-HTTP-Method-Override": "POST"
			},
			dataType: 'text',       // 데이터 타입 (html, xml, json, text 등등)
			data: JSON.stringify({  // 보낼 데이터 (Object , String, Array)
				"body": body,
				"body2": body2
			}),
			success: function (result) { // 결과 성공 콜백함수
				console.log(result);
				console.log("성공");
			},
			error: function (request, status, error) { // 결과 에러 콜백함수

				console.log('실패');
			}
		});
	};
</script>
</html>